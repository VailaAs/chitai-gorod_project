{"uid":"40b4d2a4e2123a8d","name":"Пользователь с английским именем","fullName":"test.test_api#test_courier_latin_username","historyId":"a8c48ec1388f9b191e609da9f0b4eb8b","time":{"start":1721774230989,"stop":1721774231139,"duration":150},"description":"Заказ курьером в России от пользователя с английским именем и его отмена","descriptionHtml":"<p>Заказ курьером в России от пользователя с английским именем и его отмена</p>\n","status":"broken","statusMessage":"KeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B9D5F10>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='low')\n    @allure.title('Пользователь с английским именем')\n    @allure.description('Заказ курьером в России от пользователя с английским именем и его отмена')\n    @allure.feature('Negative Test: Оформление заказа')\n    def test_courier_latin_username(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B9D50A0>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"config","time":{"start":1721774230989,"stop":1721774230989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"description":"Заказ курьером в России от пользователя с английским именем и его отмена","status":"broken","statusMessage":"KeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B9D5F10>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='low')\n    @allure.title('Пользователь с английским именем')\n    @allure.description('Заказ курьером в России от пользователя с английским именем и его отмена')\n    @allure.feature('Negative Test: Оформление заказа')\n    def test_courier_latin_username(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:67: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B9D50A0>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","steps":[{"name":"API - Добавить товар в корзину","time":{"start":1721774230989,"stop":1721774231102,"duration":113},"status":"passed","steps":[{"name":"API - Отправить POST запрос","time":{"start":1721774230989,"stop":1721774231102,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart/product'"},{"name":"params","value":"{}"},{"name":"body","value":"{'id': 2833354, 'adData': {'item_list_name': 'articles-slug', 'product_shelf': 'Блок товара в статьях'}}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"API - Просмотреть корзину","time":{"start":1721774231102,"stop":1721774231139,"duration":37},"status":"broken","statusMessage":"KeyError: 'products'\n","statusTrace":"  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\myenv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\pages\\ApiPage.py\", line 40, in view_cart\n    return response.json()['products'][0]['goodsId']\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n","steps":[{"name":"API - Отправить GET запрос","time":{"start":1721774231103,"stop":1721774231139,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart'"},{"name":"params","value":"{}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":4,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[],"labels":[{"name":"severity","value":"low"},{"name":"epic","value":"Читай-город"},{"name":"feature","value":"Negative Test: Оформление заказа"},{"name":"suite","value":"API"},{"name":"parentSuite","value":"test"},{"name":"host","value":"LindSY"},{"name":"thread","value":"10956-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"40b4d2a4e2123a8d.json","parameterValues":[]}