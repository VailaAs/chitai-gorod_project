{"uid":"51062bf18e4b78ee","name":"Почта с недействительным доменом","fullName":"test.test_api#test_useremail_with_wrong_domain","historyId":"da011f109f4f0740aa8729680b6360a4","time":{"start":1721774231155,"stop":1721774231308,"duration":153},"description":"Оформление заказа самовывозом из магазина от пользователя с почтой с недействительным доменом и его отмена","descriptionHtml":"<p>Оформление заказа самовывозом из магазина от пользователя с почтой с недействительным доменом и его отмена</p>\n","status":"skipped","statusMessage":"XFAIL\n\nKeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B9D6330>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='low')\n    @allure.title('Почта с недействительным доменом')\n    @allure.description('Оформление заказа самовывозом из магазина от пользователя с почтой с недействительным доменом и его отмена')\n    @allure.feature('Negative Test: Оформление заказа')\n    @pytest.mark.xfail()\n    def test_useremail_with_wrong_domain(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B9D6B10>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"config","time":{"start":1721774231155,"stop":1721774231155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"description":"Оформление заказа самовывозом из магазина от пользователя с почтой с недействительным доменом и его отмена","status":"skipped","statusMessage":"XFAIL\n\nKeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B9D6330>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='low')\n    @allure.title('Почта с недействительным доменом')\n    @allure.description('Оформление заказа самовывозом из магазина от пользователя с почтой с недействительным доменом и его отмена')\n    @allure.feature('Negative Test: Оформление заказа')\n    @pytest.mark.xfail()\n    def test_useremail_with_wrong_domain(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B9D6B10>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","steps":[{"name":"API - Добавить товар в корзину","time":{"start":1721774231155,"stop":1721774231268,"duration":113},"status":"passed","steps":[{"name":"API - Отправить POST запрос","time":{"start":1721774231155,"stop":1721774231268,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart/product'"},{"name":"params","value":"{}"},{"name":"body","value":"{'id': 2833354, 'adData': {'item_list_name': 'articles-slug', 'product_shelf': 'Блок товара в статьях'}}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"API - Просмотреть корзину","time":{"start":1721774231268,"stop":1721774231292,"duration":24},"status":"broken","statusMessage":"KeyError: 'products'\n","statusTrace":"  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\myenv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\pages\\ApiPage.py\", line 40, in view_cart\n    return response.json()['products'][0]['goodsId']\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n","steps":[{"name":"API - Отправить GET запрос","time":{"start":1721774231268,"stop":1721774231292,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart'"},{"name":"params","value":"{}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":4,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[],"labels":[{"name":"severity","value":"low"},{"name":"epic","value":"Читай-город"},{"name":"feature","value":"Negative Test: Оформление заказа"},{"name":"suite","value":"API"},{"name":"tag","value":"@pytest.mark.xfail"},{"name":"parentSuite","value":"test"},{"name":"host","value":"LindSY"},{"name":"thread","value":"10956-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["@pytest.mark.xfail"]},"source":"51062bf18e4b78ee.json","parameterValues":[]}