{"uid":"60f7a7e27b0482f9","name":"Самовывоз из магазина","fullName":"test.test_api#test_pickup_from_shop","historyId":"37323663c0d7b2b70e540e15c3409e71","time":{"start":1721774230272,"stop":1721774230438,"duration":166},"description":"Оформление заказа самовывозом из магазина и его отмена","descriptionHtml":"<p>Оформление заказа самовывозом из магазина и его отмена</p>\n","status":"broken","statusMessage":"KeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B8ACB30>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='critical')\n    @allure.title('Самовывоз из магазина')\n    @allure.description('Оформление заказа самовывозом из магазина и его отмена')\n    @allure.feature('Positive Test: Оформление заказа')\n    def test_pickup_from_shop(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B8AD6D0>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"config","time":{"start":1721774230271,"stop":1721774230272,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"description":"Оформление заказа самовывозом из магазина и его отмена","status":"broken","statusMessage":"KeyError: 'products'","statusTrace":"config = <configparser.ConfigParser object at 0x000002749B8ACB30>\n\n    @allure.epic(\"Читай-город\")\n    @allure.suite('API')\n    @allure.severity(severity_level='critical')\n    @allure.title('Самовывоз из магазина')\n    @allure.description('Оформление заказа самовывозом из магазина и его отмена')\n    @allure.feature('Positive Test: Оформление заказа')\n    def test_pickup_from_shop(config):\n        api = ApiPage(config)\n        api.add_to_cart()\n        \"\"\"Проверяем добавление товара в корзину\"\"\"\n>       assert api.view_cart() == int(config.get('data', 'productID'))\n\ntest\\test_api.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.ApiPage.ApiPage object at 0x000002749B8AD6D0>\n\n    @allure.step(\"API - Просмотреть корзину\")\n    def view_cart(self) -> int:\n        response = self.get_request(self.url + '/cart')\n>       return response.json()['products'][0]['goodsId']\nE       KeyError: 'products'\n\npages\\ApiPage.py:40: KeyError","steps":[{"name":"API - Добавить товар в корзину","time":{"start":1721774230272,"stop":1721774230391,"duration":119},"status":"passed","steps":[{"name":"API - Отправить POST запрос","time":{"start":1721774230273,"stop":1721774230391,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart/product'"},{"name":"params","value":"{}"},{"name":"body","value":"{'id': 2833354, 'adData': {'item_list_name': 'articles-slug', 'product_shelf': 'Блок товара в статьях'}}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"API - Просмотреть корзину","time":{"start":1721774230391,"stop":1721774230438,"duration":47},"status":"broken","statusMessage":"KeyError: 'products'\n","statusTrace":"  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\myenv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\381\\OneDrive\\Рабочий стол\\html\\python\\chitai-gorod_automated_ui_and_api_project\\chitai_gorod_project\\pages\\ApiPage.py\", line 40, in view_cart\n    return response.json()['products'][0]['goodsId']\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n","steps":[{"name":"API - Отправить GET запрос","time":{"start":1721774230391,"stop":1721774230438,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://web-gate.chitai-gorod.ru/api/v1/cart'"},{"name":"params","value":"{}"}],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":4,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[],"labels":[{"name":"feature","value":"Positive Test: Оформление заказа"},{"name":"epic","value":"Читай-город"},{"name":"severity","value":"critical"},{"name":"suite","value":"API"},{"name":"parentSuite","value":"test"},{"name":"host","value":"LindSY"},{"name":"thread","value":"10956-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test.test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"60f7a7e27b0482f9.json","parameterValues":[]}